# Взаимодействие с ресурсами

Взаимодействие с данными vozovoz.ru происходит с помощью HTTP-запросов к ресурсам на адрес `https://api.vozovoz.ru/[версия API]/[название ресурса]`

Для получения доступа к некоторым ресурсам необходимо аутентифицировать клиент или пользователя. Процесс аутентификации описан в соответствующем разделе.

HTTP-метод запроса определяет способ взаимодействия:

* GET - получить данные из ресурса
* POST - добавить данные в ресурс
* PUT - изменить данные в ресурсе
* PATCH - изменить указанные данные в ресурсе (частичное обновление)
* DELETE - удалить данные из ресурса

Пример взаимодействия с ресурсом новостей:

* `GET https://api.vozovoz.ru/v1/news` - получить список новостей
* `POST https://api.vozovoz.ru/v1/news` - создать новость
* `GET https://api.vozovoz.ru/v1/news/[ID]` - получить новость
* `PUT https://api.vozovoz.ru/v1/news/[ID]` - редактировать новость
* `PATCH https://api.vozovoz.ru/v1/news/[ID]` - редактировать новость
* `DELETE https://api.vozovoz.ru/v1/news/[ID]` - удалить новость

Ресурсы могут содержать вложенные ресурсы:

`GET https://api.vozovoz.ru/v1/orders/[ID]/documents` - получить документы заказа

> В РАЗРАБОТКЕ
>
> Если нет возможности сделать запрос нужным HTTP-методом (например PUT или DELETE),
> то можно использовать заголовок `X-Http-Method-Override` или параметр `_method` в которых передается нужный HTTP-метод.
> Например, чтобы удалить новость можно сделать запрос:
>
> `POST https://api.vozovoz.ru/v1/news/1?_method=DELETE`
> 
> Для выполнения JSONP запросов, необходимо использовать параметр `callback`. Первым аргументом приходят данные, вторым - HTTP код ответа.

Vozovoz API отвечает на запросы в соответствии со стандартом HTTP/1.1. Данные в теле ответа возвращаются в формате JSON. 
В основном данные представляют из себя объекты или коллекции объектов. Объекты состоят из полей и их значений. 

Рекомендуется указывать в параметре `_fields`, какие поля требуется получить:

`GET https://api.vozovoz.ru/v1/news?_fields=id,title`

> В РАЗРАБОТКЕ
>
> Значением поля может быть связанный объект. Cвязанные объекты уже не содержат связей, даже если они объявлены в спецификации объекта.
> Для их получения нужно использовать параметр `_fields`, который позволяет указывать поля также и для связанных объектов: 
> GET https://api.vozovoz.ru/v1/news?_fields=id,author(id,name)
> 
> Вы можете использовать символ `*` для указания всех полей объекта, это удобно в том случае если вам надо получить вложенные объекты,
> которые по умолчанию не выводятся,но при этом не перечислять все поля.
>
> Пример запроса комментариев с получением аватара пользователя:
> 
> `GET https://api.vozovoz.ru/v1/comments?pictureId=1&_fields=*,user(*,avatar)`
